var ua=Object.defineProperty,pa=Object.defineProperties;var ha=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var _a=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var U=(t,o,e)=>o in t?ua(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,A=(t,o)=>{for(var e in o||(o={}))_a.call(o,e)&&U(t,e,o[e]);if(F)for(var e of F(o))ga.call(o,e)&&U(t,e,o[e]);return t},N=(t,o)=>pa(t,ha(o));import{o as S,c as D,a as fa,i as va,g as ba,L as Aa,b as Y,u as Z,r as k,s as ka,d as ya,e as Pa,f as $,h as q,j as _,k as R,w as La,l as V,m as J,n as Ca,p as Ea,q as Ia,t as wa,M as b,v as h,x as E,y as I,z as w,A as C,I as y,B as M,C as T,D as z,E as K,F as Ta,G as Q,H as Ra,J as Sa,K as Da,N as xa}from"./vendor.57aa19e6.js";const Oa=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}};Oa();var Ba="/evom-imm-bangkalan/file/footer-brand.8968f0c2.png";var W=(t,o)=>{const e=t.__vccOpts||t;for(const[l,i]of o)e[l]=i;return e};const Ha={},Na={class:""},ja=fa('<div class="navigation p-5 container" data-v-3f57abca><div class="row" data-v-3f57abca><div class="col-12 col-md-4 mb-5" data-v-3f57abca><img class="img-fluid pe-5" src="'+Ba+'" alt="" data-v-3f57abca></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Hubungi kami</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="javascript:void()" data-v-3f57abca>Telang Indah VI, Kamal, Bangkalan - 69162</a></li><li data-v-3f57abca><a href="mailto:pcimmbangkalan@gmail.com" data-v-3f57abca> pcimmbangkalan@gmail.com </a></li><li data-v-3f57abca><a href="http://pcimmbangkalan.blogspot.com" data-v-3f57abca> pcimmbangkalan.blogspot.com </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194 </a></li></ul></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Service</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="#" data-v-3f57abca> Voting </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Hasil Pemilihan </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Admin </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194</a></li></ul></div></div></div><div class="copyright container-fluid text-center" data-v-3f57abca> Designed by <a href="http://instagram.com/akbarr.sury" target="_blank" data-v-3f57abca>Akbar</a> | Managed by Bidang Medkom PC IMM Bangkalan </div>',2),Fa=[ja];function Ua(t,o){return S(),D("footer",Na,Fa)}var Va=W(Ha,[["render",Ua],["__scopeId","data-v-3f57abca"]]);const Ma={apiKey:"AIzaSyBnQdw_6piF6b5F2s1ORYUjcmhXIuO3fzI",authDomain:"imm-bangkalan-101112.firebaseapp.com",projectId:"imm-bangkalan-101112",storageBucket:"imm-bangkalan-101112.appspot.com",messagingSenderId:"764517615389",appId:"1:764517615389:web:e479539763ed2f02d303f4"},aa=va(Ma),x=ba(aa),m=Aa(aa),O=Y(()=>{const{isAuthenticated:t,user:o}=Z(x);let e=k({data:{secretKey:String},isAdmin:!1});return{admin:e,getAdminData:()=>e,tryToLogin:(c,v)=>{let P={secretKey:v.accessToken,providerData:v.providerData[0]};c?(e.data=P,e.isAdmin=c):(e.data=null,e.isAdmin=!1)},tryToLogout:()=>{ka(x).then(()=>{e.isAdmin=null,e.data=o,alert("Berhasil logout user")}).catch(()=>{alert("Gagal logout user")})}}}),za="modulepreload",G={},Ka="/evom-imm-bangkalan/",g=function(o,e){return!e||e.length===0?o():Promise.all(e.map(l=>{if(l=`${Ka}${l}`,l in G)return;G[l]=!0;const i=l.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${r}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":za,i||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),i)return new Promise((v,P)=>{c.addEventListener("load",v),c.addEventListener("error",P)})})).then(()=>o())},X=()=>g(()=>import("./Landing.bfabb922.js"),["file/Landing.bfabb922.js","file/Landing.87d87579.css","file/vendor.57aa19e6.js"]),Qa=()=>g(()=>import("./Login.3dedf862.js"),["file/Login.3dedf862.js","file/vendor.57aa19e6.js"]),Ga=()=>g(()=>import("./Admin.d5dda58d.js"),["file/Admin.d5dda58d.js","file/Admin.bb1c70cf.css","file/vendor.57aa19e6.js"]),Xa=()=>g(()=>import("./InputDataCandidate.3b198dd6.js"),["file/InputDataCandidate.3b198dd6.js","file/InputDataCandidate.1e1cf0ce.css","file/ModalInputDelegation.b02c32eb.js","file/vendor.57aa19e6.js"]),Ya=()=>g(()=>import("./Candidate.d62e5121.js"),["file/Candidate.d62e5121.js","file/vendor.57aa19e6.js"]),Za=()=>g(()=>import("./Delegation.4b206654.js"),["file/Delegation.4b206654.js","file/ModalInputDelegation.b02c32eb.js","file/vendor.57aa19e6.js"]),$a=()=>g(()=>import("./InputDataParticipant.2fe63476.js"),["file/InputDataParticipant.2fe63476.js","file/InputDataParticipant.8f609921.css","file/ModalInputDelegation.b02c32eb.js","file/vendor.57aa19e6.js"]),qa=()=>g(()=>import("./Participant.9b510b9f.js"),["file/Participant.9b510b9f.js","file/vendor.57aa19e6.js"]),Ja=()=>g(()=>import("./ElectionToken.aa40a99e.js"),["file/ElectionToken.aa40a99e.js","file/vendor.57aa19e6.js"]),Wa=()=>g(()=>import("./LiveCount.b3206eb4.js"),["file/LiveCount.b3206eb4.js","file/LiveCount.a34f0f24.css","file/vendor.57aa19e6.js"]),at=()=>g(()=>import("./AccountSetting.78940ac2.js"),["file/AccountSetting.78940ac2.js","file/vendor.57aa19e6.js"]),tt=()=>g(()=>import("./ApplicationSetting.cb228050.js"),["file/ApplicationSetting.cb228050.js","file/vendor.57aa19e6.js"]),et=[{name:"landing",path:"/",component:X},{name:"vote",path:"/vote",component:X},{name:"login",path:"/login",meta:{auth:!0},component:Qa},{name:"admin",path:"/admin",redirect:{name:"adminCandidate"},meta:{protected:!0},component:Ga,children:[{name:"adminInputCandidateData",path:"input-candidate-data",component:Xa},{name:"adminCandidate",path:"candidate",component:Ya},{name:"adminDelegation",path:"delegation",component:Za},{name:"adminInputParticipantData",path:"input-participant-data",component:$a},{name:"adminParticipant",path:"participant",component:qa},{name:"adminElectionToken",path:"election-token",component:Ja},{name:"adminLiveCount",path:"live-count",component:Wa},{name:"adminAccountSetting",path:"account-setting",component:at},{name:"adminApplicationSetting",path:"application-setting",component:tt}]}],f=ya({history:Pa("/evom-imm-bangkalan/"),routes:et});var nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAYAAACG9x+sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgBvVfLcdwwDH35FODccjM7iFKB5QridKBUkC1hU4GdCjYdxK7Acge7FYSuwPItt4QYE7NPEPTZXSZvBkOQegQBAqSkN/j3OEvyPklI8jtLUdRJ/kzIeZIn02es6dkN+o5fm7kimxwMIxjOE3z8NLzmNZYhkv4Rw8U9nji/wksgjCY7MgWZUzvjlR2wAWyTfDHynOTBGGecm/nIizdZj0k+J7nEPsCKno+hcvrBI9bYp+QePlbwy0Twi55pcBsaWxG3ofFbGg8Ylu79hA8Hl1BrFoPTl93vHM52RP8AHzG3NgMXjg0ccwa4ZHiRR9IDfHQLOFqu9hyo3jJ5aQCycHQWZn2LMogYZkFaLU/eqMUBCNRBMaRZCM7zUyG2NQu1aSP6WRwEIJFuSPjG2ZH+LreBxiLKQTfjwrQ7S3xr+uJwQ/019hHzDle5rwexQ7kMCFryRzISaLx3jdsArCPPpPN4oAXssxLQG03sy/tDz0Kb5IqJ3ovskoTrLVJfz4AaHqT2BATyRaDl42b5kEMsiLmt0L9CI8rjLre6426WDw1AdzqgX4ulS4ht6joPHunQANho7YyXhLXZeqRjAxB8orHO8Lh/NqLPBS022jn+KQHoGXh0eJzuMKIvydqOuJ1HsNdowPAz95Ym6ydFmHFE5nzNurRtnntNnDvM4ybbj1OkGtN/ZLXh27+iqxG7PyZsbgw3YP6TXrHGEZ/TDFsycYTXJPmOfupF/4aXH6UieIX/g5DbDiO1fCz+AjCKvHg3KuGwAAAAAElFTkSuQmCC";const ta=t=>(Ea("data-v-a9b85154"),t=t(),Ia(),t),ot={class:"shadow-sm"},it={class:"container"},st={class:"row"},rt=ta(()=>_("div",{class:"col-auto brand"},[_("img",{src:nt,alt:""})],-1)),dt={class:"col navigation"},ct=ta(()=>_("button",{class:"btn navigation-toggle"},[_("i",{class:"fa-solid fa-bars"})],-1)),lt=wa("voting"),mt=$({setup(t){const o=O().getAdminData(),e=()=>{O().tryToLogout(),f.push({name:"login"})},l=()=>{f.push({name:"admin"})};return(i,r)=>{const c=q("router-link");return S(),D("header",ot,[_("div",it,[_("div",st,[rt,_("div",dt,[ct,_("ul",null,[_("li",null,[R(c,{to:{name:"landing"}},{default:La(()=>[lt]),_:1})]),_("li",null,[_("button",{class:"btne btn-danger btn-main btn-sm me-2",onClick:r[0]||(r[0]=V(v=>l(),["prevent"]))}," admin "),J(o).isAdmin?(S(),D("button",{key:0,onClick:r[1]||(r[1]=V(v=>e(),["prevent"])),class:"btnve btn-danger btn-sm"}," Logout ")):Ca("",!0)])])])])])])}}});var ut=W(mt,[["__scopeId","data-v-a9b85154"]]);const u={evom:b(h(m,"evom")),komisariat:b(h(m,"komisariat")),calonKetuaUmum:b(h(m,"calon ketua umum")),calonFormatur:b(h(m,"calon formatur")),candidate:b(h(m,"candidate"),E("number","asc")),addCandidate:t=>I(h(m,"candidate"),t),deleteCandidate:t=>w(C(m,"candidate",t)),participant:b(h(m,"participant"),E("delegation","asc")),addParticipant:t=>I(h(m,"participant"),t),deleteParticipant:t=>w(C(m,"participant",t)),candidatePosition:b(h(m,"candidate-position"),E("order","asc")),addCandidatePosition:t=>I(h(m,"candidate-position"),t),deleteCandidatePosition:t=>w(C(m,"candidate-position",t)),Delegation:b(h(m,"delegation"),E("delegation","asc")),addDelegation:t=>I(h(m,"delegation"),t),deleteDelegation:t=>w(C(m,"delegation",t)),applicationSetting:C(m,"evom","setting")},j=Y(()=>{const t=()=>{const a=k({});return y(u.candidate,n=>{const d=[];n.forEach(s=>{d.push({key:s.id,data:s.data()})}),d.reduce((s,p)=>(a[p.key]=p.data,A({},s)),{})}),a},o=a=>{const n=M(),d=T(n,"candidate/"+a.name+".png");z(d,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await Q(T(n,"candidate/"+a.name+".png")))().then(L=>{a.photo=L,u.addCandidate(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(ma=>{alert(a.name+" gagal ditambahkan")})})})},e=(a,n)=>{u.deleteCandidate(a).then(()=>{alert("Candidate : "+n+" berhasil dihapus"),location.reload()})},l=()=>{const a=k({});return y(u.participant,n=>{const d=[];n.forEach(s=>{d.push({key:s.id,data:s.data()})}),d.reduce((s,p)=>(a[p.key]=p.data,A({},s)),{})}),a},i=a=>{const n=M(),d=T(n,"participant/"+a.name+".png");z(d,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await Q(T(n,"participant/"+a.name+".png")))().then(L=>{a.photo=L,u.addParticipant(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(ma=>{alert(a.name+" gagal ditambahkan")})})})},r=(a,n)=>{u.deleteParticipant(a).then(()=>{alert("Participant : "+n+" berhasil dihapus"),location.reload()})},c=async()=>{const a=await K(u.candidatePosition).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>N(A({},s),{[p.key]:p.data}),{})},v=a=>{u.addCandidatePosition(a).then(()=>{alert("Candidate Position : "+a.position+" berhasil ditambahkan"),location.reload()}).catch(n=>{alert("Candidate Position : "+a.position+" gagal ditambahkan")})},P=async()=>{const a=await K(u.Delegation).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>N(A({},s),{[p.key]:p.data}),{})},na=a=>{u.addDelegation(a).then(()=>{alert("Delegation : "+a.delegation+" berhasil ditambahkan"),location.reload()}).catch(n=>{alert("Delegation : "+a.delegation+" gagal ditambahkan")})},oa=(a,n)=>{u.deleteDelegation(a).then(()=>{alert(`Delegation : ${n} berhasil dihapus`),location.reload()})},ia=async()=>{let a=await Ta(u.applicationSetting).then(n=>n);if(a.exists())return a.data()};let B=k({});const sa=()=>{y(u.calonKetuaUmum,a=>{const n=[];a.forEach(d=>{n.push({key:d.id,data:d.data()})}),n.reduce((d,s)=>(B[s.key]=s.data,A({},d)),{})})};let ra=k({});const da=()=>{y(u.calonFormatur,a=>{const n=[];a.forEach(d=>{n.push({key:d.id,data:d.data()})}),n.reduce((d,s)=>(B[s.key]=s.data,A({},d)),{})})};let H=k({data:{}});const ca=()=>{y(u.komisariat,a=>{const n=[];a.forEach(d=>{n.push(d)}),H.data=n})};let la=k({data:{}});return{list_caketum:B,updateCaketumList:sa,list_formatur:ra,updateFormaturList:da,list_komisariat:H,updateKomisariatList:ca,list_token:la,updateTokenList:()=>{y(u.komisariat,a=>{const n=[];a.forEach(d=>{n.push(d)}),H.data=n})},listCandidate:t,addCandidate:o,deleteCandidate:e,listParticipant:l,addParticipant:i,deleteParticipant:r,listCandidatePosition:c,addCandidatePosition:v,listDelegation:P,addDelegation:na,deleteDelegation:oa,applicationSetting:ia}});const pt={class:"container-fluid body p-0 mt-5"},ht=$({setup(t){Ra(()=>{j().updateCaketumList(),j().updateFormaturList(),j().updateKomisariatList()});const o=O().admin;return f.beforeResolve((e,l,i)=>{e.matched.some(r=>{r.meta.protected})&&o.isAdmin&&f.push({name:"login"}),i()}),Sa(x,e=>{Z(x),e!=null&&O().tryToLogin(!0,e),f.afterEach((l,i,r)=>{l.matched.some(c=>{c.meta.auth})&&o.isAdmin&&f.push({name:"admin"})}),f.beforeEach((l,i,r)=>{l.matched.some(c=>c.meta.protected)&&(o.isAdmin||f.push({name:"login"})),r()})}),(e,l)=>{const i=ut,r=q("router-view"),c=Va;return S(),D("div",null,[R(i),_("div",pt,[R(r)]),R(c,{class:Da([J(o).isAdmin?"d-none":"d-block"])},null,8,["class"])])}}}),ea=xa(ht);ea.use(f);f.isReady().then(()=>ea.mount("body"));export{W as _,O as a,x as f,j as g};
