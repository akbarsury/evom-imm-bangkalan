var ua=Object.defineProperty,pa=Object.defineProperties;var ha=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var _a=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var U=(t,i,e)=>i in t?ua(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,b=(t,i)=>{for(var e in i||(i={}))_a.call(i,e)&&U(t,e,i[e]);if(F)for(var e of F(i))ga.call(i,e)&&U(t,e,i[e]);return t},H=(t,i)=>pa(t,ha(i));import{o as D,c as R,a as fa,i as va,g as ba,L as Aa,b as Y,u as Z,r as A,s as ka,d as ya,e as Pa,f as q,h as $,j as g,k as C,w as V,l as J,m as La,n as Ea,p as Ca,q as Ia,t as W,M as v,v as h,x as N,y as I,z as w,A as E,I as y,B as M,C as T,D as z,E as K,F as wa,G as Q,H as Ta,J as Da,K as Ra,N as Sa}from"./vendor.de60caad.js";const xa=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}};xa();var Oa="/evom-imm-bangkalan/file/footer-brand.8968f0c2.png";var aa=(t,i)=>{const e=t.__vccOpts||t;for(const[l,o]of i)e[l]=o;return e};const Ba={},Ha={class:""},Na=fa('<div class="navigation p-5 container" data-v-3f57abca><div class="row" data-v-3f57abca><div class="col-12 col-md-4 mb-5" data-v-3f57abca><img class="img-fluid pe-5" src="'+Oa+'" alt="" data-v-3f57abca></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Hubungi kami</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="javascript:void()" data-v-3f57abca>Telang Indah VI, Kamal, Bangkalan - 69162</a></li><li data-v-3f57abca><a href="mailto:pcimmbangkalan@gmail.com" data-v-3f57abca> pcimmbangkalan@gmail.com </a></li><li data-v-3f57abca><a href="http://pcimmbangkalan.blogspot.com" data-v-3f57abca> pcimmbangkalan.blogspot.com </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194 </a></li></ul></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Service</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="#" data-v-3f57abca> Voting </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Hasil Pemilihan </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Admin </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194</a></li></ul></div></div></div><div class="copyright container-fluid text-center" data-v-3f57abca> Designed by <a href="http://instagram.com/akbarr.sury" target="_blank" data-v-3f57abca>Akbar</a> | Managed by Bidang Medkom PC IMM Bangkalan </div>',2),ja=[Na];function Fa(t,i){return D(),R("footer",Ha,ja)}var Ua=aa(Ba,[["render",Fa],["__scopeId","data-v-3f57abca"]]);const Va={apiKey:"AIzaSyBnQdw_6piF6b5F2s1ORYUjcmhXIuO3fzI",authDomain:"imm-bangkalan-101112.firebaseapp.com",projectId:"imm-bangkalan-101112",storageBucket:"imm-bangkalan-101112.appspot.com",messagingSenderId:"764517615389",appId:"1:764517615389:web:e479539763ed2f02d303f4"},ta=va(Va),S=ba(ta),m=Aa(ta),x=Y(()=>{const{isAuthenticated:t,user:i}=Z(S);let e=A({data:{secretKey:String},isAdmin:!1});return{admin:e,getAdminData:()=>e,tryToLogin:(d,k)=>{let P={secretKey:k.accessToken,providerData:k.providerData[0]};d?(e.data=P,e.isAdmin=d):(e.data=null,e.isAdmin=!1)},tryToLogout:()=>{ka(S).then(()=>{e.isAdmin=null,e.data=i,alert("Berhasil logout user")}).catch(()=>{alert("Gagal logout user")})}}}),Ma="modulepreload",G={},za="/evom-imm-bangkalan/",_=function(i,e){return!e||e.length===0?i():Promise.all(e.map(l=>{if(l=`${za}${l}`,l in G)return;G[l]=!0;const o=l.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${r}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":Ma,o||(d.as="script",d.crossOrigin=""),d.href=l,document.head.appendChild(d),o)return new Promise((k,P)=>{d.addEventListener("load",k),d.addEventListener("error",P)})})).then(()=>i())},X=()=>_(()=>import("./Landing.29fc7664.js"),["file/Landing.29fc7664.js","file/Landing.7db575af.css","file/vendor.de60caad.js"]),Ka=()=>_(()=>import("./Login.5ca3106e.js"),["file/Login.5ca3106e.js","file/vendor.de60caad.js"]),Qa=()=>_(()=>import("./Admin.7a919c90.js"),["file/Admin.7a919c90.js","file/Admin.bb1c70cf.css","file/vendor.de60caad.js"]),Ga=()=>_(()=>import("./InputDataCandidate.93a0b0c2.js"),["file/InputDataCandidate.93a0b0c2.js","file/InputDataCandidate.4c8af8f7.css","file/ModalInputDelegation.f79c1223.js","file/vendor.de60caad.js"]),Xa=()=>_(()=>import("./Candidate.afbfb8ac.js"),["file/Candidate.afbfb8ac.js","file/vendor.de60caad.js"]),Ya=()=>_(()=>import("./Delegation.9239cf9b.js"),["file/Delegation.9239cf9b.js","file/ModalInputDelegation.f79c1223.js","file/vendor.de60caad.js"]),Za=()=>_(()=>import("./InputDataParticipant.65f977c4.js"),["file/InputDataParticipant.65f977c4.js","file/InputDataParticipant.e69e534f.css","file/ModalInputDelegation.f79c1223.js","file/vendor.de60caad.js"]),qa=()=>_(()=>import("./Participant.b05b0a2f.js"),["file/Participant.b05b0a2f.js","file/vendor.de60caad.js"]),$a=()=>_(()=>import("./ElectionToken.8b9420ee.js"),["file/ElectionToken.8b9420ee.js","file/vendor.de60caad.js"]),Ja=()=>_(()=>import("./LiveCount.f22700f8.js"),["file/LiveCount.f22700f8.js","file/LiveCount.a34f0f24.css","file/vendor.de60caad.js"]),Wa=()=>_(()=>import("./AccountSetting.518d830e.js"),["file/AccountSetting.518d830e.js","file/vendor.de60caad.js"]),at=()=>_(()=>import("./ApplicationSetting.0c3a2fbb.js"),["file/ApplicationSetting.0c3a2fbb.js","file/vendor.de60caad.js"]),tt=[{name:"landing",path:"/",component:X},{name:"vote",path:"/vote",component:X},{name:"login",path:"/login",meta:{auth:!0},component:Ka},{name:"admin",path:"/admin",redirect:{name:"adminCandidate"},meta:{protected:!0},component:Qa,children:[{name:"adminInputCandidateData",path:"input-candidate-data",component:Ga},{name:"adminCandidate",path:"candidate",component:Xa},{name:"adminDelegation",path:"delegation",component:Ya},{name:"adminInputParticipantData",path:"input-participant-data",component:Za},{name:"adminParticipant",path:"participant",component:qa},{name:"adminElectionToken",path:"election-token",component:$a},{name:"adminLiveCount",path:"live-count",component:Ja},{name:"adminAccountSetting",path:"account-setting",component:Wa},{name:"adminApplicationSetting",path:"application-setting",component:at}]}],f=ya({history:Pa("/evom-imm-bangkalan/"),routes:tt});var et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAYAAACG9x+sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgBvVfLcdwwDH35FODccjM7iFKB5QridKBUkC1hU4GdCjYdxK7Acge7FYSuwPItt4QYE7NPEPTZXSZvBkOQegQBAqSkN/j3OEvyPklI8jtLUdRJ/kzIeZIn02es6dkN+o5fm7kimxwMIxjOE3z8NLzmNZYhkv4Rw8U9nji/wksgjCY7MgWZUzvjlR2wAWyTfDHynOTBGGecm/nIizdZj0k+J7nEPsCKno+hcvrBI9bYp+QePlbwy0Twi55pcBsaWxG3ofFbGg8Ylu79hA8Hl1BrFoPTl93vHM52RP8AHzG3NgMXjg0ccwa4ZHiRR9IDfHQLOFqu9hyo3jJ5aQCycHQWZn2LMogYZkFaLU/eqMUBCNRBMaRZCM7zUyG2NQu1aSP6WRwEIJFuSPjG2ZH+LreBxiLKQTfjwrQ7S3xr+uJwQ/019hHzDle5rwexQ7kMCFryRzISaLx3jdsArCPPpPN4oAXssxLQG03sy/tDz0Kb5IqJ3ovskoTrLVJfz4AaHqT2BATyRaDl42b5kEMsiLmt0L9CI8rjLre6426WDw1AdzqgX4ulS4ht6joPHunQANho7YyXhLXZeqRjAxB8orHO8Lh/NqLPBS022jn+KQHoGXh0eJzuMKIvydqOuJ1HsNdowPAz95Ym6ydFmHFE5nzNurRtnntNnDvM4ybbj1OkGtN/ZLXh27+iqxG7PyZsbgw3YP6TXrHGEZ/TDFsycYTXJPmOfupF/4aXH6UieIX/g5DbDiO1fCz+AjCKvHg3KuGwAAAAAElFTkSuQmCC";const ea=t=>(Ca("data-v-91851502"),t=t(),Ia(),t),nt={class:"shadow-sm"},ot={class:"container"},it={class:"row"},st=ea(()=>g("div",{class:"col-auto brand"},[g("img",{src:et,alt:""})],-1)),rt={class:"col navigation"},ct=ea(()=>g("button",{class:"btn navigation-toggle"},[g("i",{class:"fa-solid fa-bars"})],-1)),dt=W("voting"),lt=W("admin"),mt=q({setup(t){const i=x().getAdminData(),e=()=>{x().tryToLogout(),f.push({name:"login"})};return(l,o)=>{const r=$("router-link");return D(),R("header",nt,[g("div",ot,[g("div",it,[st,g("div",rt,[ct,g("ul",null,[g("li",null,[C(r,{to:{name:"landing"}},{default:V(()=>[dt]),_:1})]),g("li",null,[C(r,{class:"btn btn-main btn-sm me-2",to:{name:"admin"}},{default:V(()=>[lt]),_:1}),J(i).isAdmin?(D(),R("button",{key:0,onClick:o[0]||(o[0]=La(d=>e(),["prevent"])),class:"btn btn-danger btn-sm"}," Logout ")):Ea("",!0)])])])])])])}}});var ut=aa(mt,[["__scopeId","data-v-91851502"]]);const u={evom:v(h(m,"evom")),komisariat:v(h(m,"komisariat")),calonKetuaUmum:v(h(m,"calon ketua umum")),calonFormatur:v(h(m,"calon formatur")),candidate:v(h(m,"candidate"),N("number","asc")),addCandidate:t=>I(h(m,"candidate"),t),deleteCandidate:t=>w(E(m,"candidate",t)),participant:v(h(m,"participant"),N("delegation","asc")),addParticipant:t=>I(h(m,"participant"),t),deleteParticipant:t=>w(E(m,"participant",t)),candidatePosition:v(h(m,"candidate-position")),addCandidatePosition:t=>I(h(m,"candidate-position"),t),deleteCandidatePosition:t=>w(E(m,"candidate-position",t)),Delegation:v(h(m,"delegation"),N("delegation","asc")),addDelegation:t=>I(h(m,"delegation"),t),deleteDelegation:t=>w(E(m,"delegation",t)),applicationSetting:E(m,"evom","setting")},j=Y(()=>{const t=()=>{const a=A({});return y(u.candidate,n=>{const c=[];n.forEach(s=>{c.push({key:s.id,data:s.data()})}),c.reduce((s,p)=>(a[p.key]=p.data,b({},s)),{})}),a},i=a=>{const n=M(),c=T(n,"candidate/"+a.name+".png");z(c,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await Q(T(n,"candidate/"+a.name+".png")))().then(L=>{a.photo=L,u.addCandidate(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(ma=>{alert(a.name+" gagal ditambahkan")})})})},e=(a,n)=>{u.deleteCandidate(a).then(()=>{alert("Candidate : "+n+" berhasil dihapus"),location.reload()})},l=()=>{const a=A({});return y(u.participant,n=>{const c=[];n.forEach(s=>{c.push({key:s.id,data:s.data()})}),c.reduce((s,p)=>(a[p.key]=p.data,b({},s)),{})}),a},o=a=>{const n=M(),c=T(n,"participant/"+a.name+".png");z(c,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await Q(T(n,"participant/"+a.name+".png")))().then(L=>{a.photo=L,u.addParticipant(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(ma=>{alert(a.name+" gagal ditambahkan")})})})},r=(a,n)=>{u.deleteParticipant(a).then(()=>{alert("Participant : "+n+" berhasil dihapus"),location.reload()})},d=async()=>{const a=await K(u.candidatePosition).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>H(b({},s),{[p.key]:p.data}),{})},k=async()=>{const a=await K(u.Delegation).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>H(b({},s),{[p.key]:p.data}),{})},P=a=>{u.addDelegation(a).then(()=>{alert("Delegation : "+a.delegation+" berhasil ditambahkan"),location.reload()}).catch(n=>{alert("Delegation : "+a.delegation+" gagal ditambahkan")})},oa=(a,n)=>{u.deleteDelegation(a).then(()=>{alert(`Delegation : ${n} berhasil dihapus`),location.reload()})},ia=async()=>{let a=await wa(u.applicationSetting).then(n=>n);if(a.exists())return a.data()};let O=A({});const sa=()=>{y(u.calonKetuaUmum,a=>{const n=[];a.forEach(c=>{n.push({key:c.id,data:c.data()})}),n.reduce((c,s)=>(O[s.key]=s.data,b({},c)),{})})};let ra=A({});const ca=()=>{y(u.calonFormatur,a=>{const n=[];a.forEach(c=>{n.push({key:c.id,data:c.data()})}),n.reduce((c,s)=>(O[s.key]=s.data,b({},c)),{})})};let B=A({data:{}});const da=()=>{y(u.komisariat,a=>{const n=[];a.forEach(c=>{n.push(c)}),B.data=n})};let la=A({data:{}});return{list_caketum:O,updateCaketumList:sa,list_formatur:ra,updateFormaturList:ca,list_komisariat:B,updateKomisariatList:da,list_token:la,updateTokenList:()=>{y(u.komisariat,a=>{const n=[];a.forEach(c=>{n.push(c)}),B.data=n})},listCandidate:t,addCandidate:i,deleteCandidate:e,listParticipant:l,addParticipant:o,deleteParticipant:r,listCandidatePosition:d,listDelegation:k,addDelegation:P,deleteDelegation:oa,applicationSetting:ia}});const pt={class:"container-fluid body p-0 mt-5"},ht=q({setup(t){Ta(()=>{j().updateCaketumList(),j().updateFormaturList(),j().updateKomisariatList()});const i=x().admin;return f.beforeResolve((e,l,o)=>{e.matched.some(r=>{r.meta.protected})&&i.isAdmin&&f.push({name:"login"}),o()}),Da(S,e=>{Z(S),e!=null&&x().tryToLogin(!0,e),f.afterEach((l,o,r)=>{l.matched.some(d=>{d.meta.auth})&&i.isAdmin&&f.push({name:"admin"})}),f.beforeEach((l,o,r)=>{l.matched.some(d=>d.meta.protected)&&(i.isAdmin||f.push({name:"login"})),r()})}),(e,l)=>{const o=ut,r=$("router-view"),d=Ua;return D(),R("div",null,[C(o),g("div",pt,[C(r)]),C(d,{class:Ra([J(i).isAdmin?"d-none":"d-block"])},null,8,["class"])])}}}),na=Sa(ht);na.use(f);f.isReady().then(()=>na.mount("body"));export{aa as _,x as a,u as d,S as f,j as g};
