import{r as C,I as K,o as d,c,d as t,g as y,J as m,R as $,f as p,M as U,p as T,i as w,x,y as v,Y as D,Z as L,D as S,P as _,_ as I,u as A,e as N,O as V,$ as k,h as q,Q as f}from"./vendor.5bcef8ec.js";import{_ as F,d as R}from"./index.a1a2d004.js";const s=r=>(T("data-v-4be2353b"),r=r(),w(),r),j=s(()=>t("div",{class:"divider mb-3"},null,-1)),B={class:""},M=["onSubmit"],P=s(()=>t("h5",null,"Tambah Calon Ketua Umum",-1)),z={class:"mb-3"},E=s(()=>t("label",{for:"namaCalonKetuaUmum",class:"form-label d-none"}," Nama Lengkap ",-1)),H={class:"mb-3"},J=s(()=>t("label",{for:"komisariatCalonKetuaUmum",class:"form-label d-none"}," Asal komisariat ",-1)),O={class:"mb-3"},Q=s(()=>t("label",{for:"ttlCalonKetuaUmum",class:"form-label d-none"}," Tempat, Tanggal Lahir ",-1)),Y={class:"mb-3"},Z=s(()=>t("label",{for:"domisiliCalonKetuaUmum",class:"form-label d-none"}," Alamat Domisili ",-1)),G={class:"mb-3"},W=s(()=>t("label",{for:"fotoCalonKetuaUmum",class:"form-label d-none"}," foto calon ketua umum ",-1)),X={class:"d-flex justify-content-center"},tt=s(()=>t("div",{class:"mb-3 text-center"},[t("button",{type:"submit",class:"btn btn-primary"},"Tambah")],-1)),at=s(()=>t("div",{class:"divider mb-3"},null,-1)),et={setup(r){const a={},n=()=>{const e=x(),l=v(e,"calon ketua umum/"+a.nama+".png");D(l,i[1],{contentType:"image/png"}).then(o=>{(async()=>await I(v(e,"calon ketua umum/"+a.nama+".png")))().then(g=>{a.fotoUrl=g,a.suara=[],L(S(R,"calon ketua umum"),a).then(()=>{alert(a.nama+" berhasil ditambahkan")}).catch(ht=>{alert(a.nama+" gagal ditambahkan")})})})},i=C(["https://static.vecteezy.com/system/resources/thumbnails/003/337/584/small/default-avatar-photo-placeholder-profile-icon-vector.jpg"]),h=K(null),u=e=>{let l=e.target.files[0]||e.dataTransfer.files[0],o=new FileReader;l&&(o.onload=b=>{i[0]=b.target.result,i[1]=l}),o.readAsDataURL(l)};return(e,l)=>(d(),c(U,null,[j,t("div",B,[t("form",{onSubmit:y(n,["prevent"])},[P,t("div",z,[E,m(t("input",{type:"text",class:"form-control",id:"namaCalonKetuaUmum",placeholder:"Nama Lengkap",required:"","onUpdate:modelValue":l[0]||(l[0]=o=>a.nama=o)},null,512),[[_,a.nama]])]),t("div",H,[J,m(t("input",{type:"text",class:"form-control",id:"komisariatCalonKetuaUmum",placeholder:"Asal Komisariat","onUpdate:modelValue":l[1]||(l[1]=o=>a.asalKom=o),required:""},null,512),[[_,a.asalKom]])]),t("div",O,[Q,m(t("input",{type:"text",class:"form-control",id:"ttlCalonKetuaUmum",placeholder:"Tempat, Tanggal Lahir",required:"","onUpdate:modelValue":l[2]||(l[2]=o=>a.ttl=o)},null,512),[[_,a.ttl]])]),t("div",Y,[Z,m(t("input",{type:"text",class:"form-control",id:"domisiliCalonKetuaUmum",placeholder:"Alamat Domisili",required:"","onUpdate:modelValue":l[3]||(l[3]=o=>a.alamatDomisili=o)},null,512),[[_,a.alamatDomisili]])]),t("div",G,[W,t("input",{class:"form-control",type:"file",id:"formFile",placeholder:"Upload foto calon ketua umum",required:"",accept:"image/x-png,image/jpeg, img/jpg",ref_key:"fileInput",ref:h,onChange:u},null,544),t("div",X,[t("div",{class:"img-preview mt-3 shadow rounded",style:$("background-image: url('"+p(i)[0]+"')")},null,4)])]),tt],40,M)]),at],64))}};var lt=F(et,[["__scopeId","data-v-4be2353b"]]);const ot=t("h1",null,"Calon Ketua Umum",-1),st={class:"table-box"},nt={class:"in-admin m-3"},it=t("thead",null,[t("tr",null,[t("th",null,"No"),t("th",null,"Nama"),t("th",null,"Asal Komisariat"),t("th",null,"Tempat Tanggal Lahir"),t("th",null,"Foto"),t("th",null,"Aksi")])],-1),mt={key:0},rt=["src","alt"],ut=t("button",{class:"btn btn-primary btn-sm"},"edit",-1),dt=["onClick"],ct=t("td",{colspan:"6"},"Data tidak ditemukan",-1),pt=[ct],bt={setup(r){const a=A(),n=a.state.caketumList,i=([h,u])=>{let e=`Hapus ${u} dari calon ketua umum ?`;confirm(e)===!0&&a.commit("hapusCaketum",[h,u])};return(h,u)=>(d(),c("div",null,[ot,N(lt),t("div",st,[t("table",nt,[it,p(n)[0]?(d(),c("tbody",mt,[(d(!0),c(U,null,V(p(n)[0],(e,l)=>m((d(),c("tr",{key:e},[t("td",null,f(l+1),1),t("td",null,f(e.data.nama),1),t("td",null,f(e.data.asalKom),1),t("td",null,f(e.data.ttl),1),t("td",null,[t("img",{src:e.data.fotoUrl,style:{width:"100px",height:"100px"},alt:e.data.nama},null,8,rt)]),t("td",null,[ut,t("button",{class:"btn btn-danger btn-sm",onClick:y(o=>i([e.key,e.data.nama]),["prevent"])}," hapus ",8,dt)])])),[[k,p(n)[0].length!=0]])),128)),m(t("tr",null,pt,512),[[k,p(n)[0].length==0]])])):q("",!0)])])]))}};export{bt as default};
