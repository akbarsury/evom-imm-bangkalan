var oa=Object.defineProperty,ia=Object.defineProperties;var sa=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ra=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable;var H=(t,n,a)=>n in t?oa(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,b=(t,n)=>{for(var a in n||(n={}))ra.call(n,a)&&H(t,a,n[a]);if(F)for(var a of F(n))da.call(n,a)&&H(t,a,n[a]);return t},T=(t,n)=>ia(t,sa(n));import{o as P,c as E,a as ca,i as la,g as ma,L as ua,b as V,u as G,r as k,s as pa,d as _a,e as ha,f as X,h as Y,j as u,k as C,w as j,l as Z,m as ga,n as fa,p as va,q as Aa,t as q,M as v,v as p,x as N,y as R,z as x,A as O,I as L,B as ba,C as M,D as ka,E as z,F as ya,G as La,H as Ca,J as Pa,K as Ea}from"./vendor.690f3783.js";const Ia=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(e){if(e.ep)return;e.ep=!0;const i=a(e);fetch(e.href,i)}};Ia();var wa="/evom-imm-bangkalan/file/footer-brand.8968f0c2.png";var $=(t,n)=>{const a=t.__vccOpts||t;for(const[c,e]of n)a[c]=e;return a};const Da={},Ta={class:""},Ra=ca('<div class="navigation p-5 container" data-v-3f57abca><div class="row" data-v-3f57abca><div class="col-12 col-md-4 mb-5" data-v-3f57abca><img class="img-fluid pe-5" src="'+wa+'" alt="" data-v-3f57abca></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Hubungi kami</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="javascript:void()" data-v-3f57abca>Telang Indah VI, Kamal, Bangkalan - 69162</a></li><li data-v-3f57abca><a href="mailto:pcimmbangkalan@gmail.com" data-v-3f57abca> pcimmbangkalan@gmail.com </a></li><li data-v-3f57abca><a href="http://pcimmbangkalan.blogspot.com" data-v-3f57abca> pcimmbangkalan.blogspot.com </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194 </a></li></ul></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Service</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="#" data-v-3f57abca> Voting </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Hasil Pemilihan </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Admin </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194</a></li></ul></div></div></div><div class="copyright container-fluid text-center" data-v-3f57abca> Designed by <a href="http://instagram.com/akbarr.sury" target="_blank" data-v-3f57abca>Akbar</a> | Managed by Bidang Medkom PC IMM Bangkalan </div>',2),xa=[Ra];function Oa(t,n){return P(),E("footer",Ta,xa)}var Sa=$(Da,[["render",Oa],["__scopeId","data-v-3f57abca"]]);const Ba={apiKey:"AIzaSyBnQdw_6piF6b5F2s1ORYUjcmhXIuO3fzI",authDomain:"imm-bangkalan-101112.firebaseapp.com",projectId:"imm-bangkalan-101112",storageBucket:"imm-bangkalan-101112.appspot.com",messagingSenderId:"764517615389",appId:"1:764517615389:web:e479539763ed2f02d303f4"},J=la(Ba),I=ma(J),m=ua(J),w=V(()=>{const{isAuthenticated:t,user:n}=G(I);let a=k({data:{secretKey:String},isAdmin:!1});return{admin:a,getAdminData:()=>a,tryToLogin:(s,A)=>{let y={secretKey:A.accessToken,providerData:A.providerData[0]};s?(a.data=y,a.isAdmin=s):(a.data=null,a.isAdmin=!1)},tryToLogout:()=>{pa(I).then(()=>{a.isAdmin=null,a.data=n,alert("Berhasil logout user")}).catch(()=>{alert("Gagal logout user")})}}}),Fa="modulepreload",K={},Ha="/evom-imm-bangkalan/",h=function(n,a){return!a||a.length===0?n():Promise.all(a.map(c=>{if(c=`${Ha}${c}`,c in K)return;K[c]=!0;const e=c.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${i}`))return;const s=document.createElement("link");if(s.rel=e?"stylesheet":Fa,e||(s.as="script",s.crossOrigin=""),s.href=c,document.head.appendChild(s),e)return new Promise((A,y)=>{s.addEventListener("load",A),s.addEventListener("error",y)})})).then(()=>n())},Q=()=>h(()=>import("./Landing.58ece413.js"),["file/Landing.58ece413.js","file/Landing.81d12058.css","file/vendor.690f3783.js"]),ja=()=>h(()=>import("./Login.381eb79c.js"),["file/Login.381eb79c.js","file/vendor.690f3783.js"]),Na=()=>h(()=>import("./Admin.7d238b77.js"),["file/Admin.7d238b77.js","file/Admin.ab4ac3f6.css","file/vendor.690f3783.js"]),Ma=()=>h(()=>import("./InputDataCandidate.18d8d20f.js"),["file/InputDataCandidate.18d8d20f.js","file/InputDataCandidate.a728da34.css","file/vendor.690f3783.js"]),za=()=>h(()=>import("./Candidate.500f6b6d.js"),["file/Candidate.500f6b6d.js","file/vendor.690f3783.js"]),Ka=()=>h(()=>import("./Delegation.8d75c30a.js"),["file/Delegation.8d75c30a.js","file/vendor.690f3783.js"]),Qa=()=>h(()=>import("./ChairmanCandidate.b21c9baa.js"),["file/ChairmanCandidate.b21c9baa.js","file/vendor.690f3783.js"]),Ua=()=>h(()=>import("./FormaturCandidate.116c3e6f.js"),["file/FormaturCandidate.116c3e6f.js","file/vendor.690f3783.js"]),Va=()=>h(()=>import("./ElectionToken.0112c239.js"),["file/ElectionToken.0112c239.js","file/vendor.690f3783.js"]),U=()=>h(()=>import("./AccountSetting.4dbf4851.js"),["file/AccountSetting.4dbf4851.js","file/vendor.690f3783.js"]),Ga=[{name:"landing",path:"/",component:Q},{name:"vote",path:"/vote",component:Q},{name:"login",path:"/login",meta:{auth:!0},component:ja},{name:"admin",path:"/admin",redirect:{name:"adminCandidate"},meta:{protected:!0},component:Na,children:[{name:"adminInputCandidateData",path:"input-candidate-data",component:Ma},{name:"adminCandidate",path:"candidate",component:za},{name:"adminDelegation",path:"delegation",component:Ka},{name:"adminChairmanCandidate",path:"chairman-candidate",component:Qa},{name:"adminFormaturCandidate",path:"formatur-candidate",component:Ua},{name:"adminElectionToken",path:"election-token",component:Va},{name:"adminLiveCount",path:"live-count",component:U},{name:"adminAccountSetting",path:"account-setting",component:U}]}],f=_a({history:ha("/evom-imm-bangkalan/"),routes:Ga});var Xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAYAAACG9x+sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgBvVfLcdwwDH35FODccjM7iFKB5QridKBUkC1hU4GdCjYdxK7Acge7FYSuwPItt4QYE7NPEPTZXSZvBkOQegQBAqSkN/j3OEvyPklI8jtLUdRJ/kzIeZIn02es6dkN+o5fm7kimxwMIxjOE3z8NLzmNZYhkv4Rw8U9nji/wksgjCY7MgWZUzvjlR2wAWyTfDHynOTBGGecm/nIizdZj0k+J7nEPsCKno+hcvrBI9bYp+QePlbwy0Twi55pcBsaWxG3ofFbGg8Ylu79hA8Hl1BrFoPTl93vHM52RP8AHzG3NgMXjg0ccwa4ZHiRR9IDfHQLOFqu9hyo3jJ5aQCycHQWZn2LMogYZkFaLU/eqMUBCNRBMaRZCM7zUyG2NQu1aSP6WRwEIJFuSPjG2ZH+LreBxiLKQTfjwrQ7S3xr+uJwQ/019hHzDle5rwexQ7kMCFryRzISaLx3jdsArCPPpPN4oAXssxLQG03sy/tDz0Kb5IqJ3ovskoTrLVJfz4AaHqT2BATyRaDl42b5kEMsiLmt0L9CI8rjLre6426WDw1AdzqgX4ulS4ht6joPHunQANho7YyXhLXZeqRjAxB8orHO8Lh/NqLPBS022jn+KQHoGXh0eJzuMKIvydqOuJ1HsNdowPAz95Ym6ydFmHFE5nzNurRtnntNnDvM4ybbj1OkGtN/ZLXh27+iqxG7PyZsbgw3YP6TXrHGEZ/TDFsycYTXJPmOfupF/4aXH6UieIX/g5DbDiO1fCz+AjCKvHg3KuGwAAAAAElFTkSuQmCC";const W=t=>(va("data-v-91851502"),t=t(),Aa(),t),Ya={class:"shadow-sm"},Za={class:"container"},qa={class:"row"},$a=W(()=>u("div",{class:"col-auto brand"},[u("img",{src:Xa,alt:""})],-1)),Ja={class:"col navigation"},Wa=W(()=>u("button",{class:"btn navigation-toggle"},[u("i",{class:"fa-solid fa-bars"})],-1)),at=q("voting"),tt=q("admin"),et=X({setup(t){const n=w().getAdminData(),a=()=>{w().tryToLogout(),f.push({name:"login"})};return(c,e)=>{const i=Y("router-link");return P(),E("header",Ya,[u("div",Za,[u("div",qa,[$a,u("div",Ja,[Wa,u("ul",null,[u("li",null,[C(i,{to:{name:"landing"}},{default:j(()=>[at]),_:1})]),u("li",null,[C(i,{class:"btn btn-main btn-sm me-2",to:{name:"admin"}},{default:j(()=>[tt]),_:1}),Z(n).isAdmin?(P(),E("button",{key:0,onClick:e[0]||(e[0]=ga(s=>a(),["prevent"])),class:"btn btn-danger btn-sm"}," Logout ")):fa("",!0)])])])])])])}}});var nt=$(et,[["__scopeId","data-v-91851502"]]);const _={evom:v(p(m,"evom")),komisariat:v(p(m,"komisariat")),calonKetuaUmum:v(p(m,"calon ketua umum")),calonFormatur:v(p(m,"calon formatur")),candidate:v(p(m,"candidate"),N("number","asc")),addCandidate:t=>R(p(m,"candidate"),t),deleteCandidate:t=>x(O(m,"candidate",t)),candidatePosition:v(p(m,"candidate-position")),addCandidatePosition:t=>R(p(m,"candidate-position"),t),deleteCandidatePosition:t=>x(O(m,"candidate-position",t)),Delegation:v(p(m,"delegation"),N("delegation","asc")),addDelegation:t=>R(p(m,"delegation"),t),deleteDelegation:t=>x(O(m,"delegation",t))},S=V(()=>{const t=()=>{const o=k({});return L(_.candidate,r=>{const l=[];r.forEach(d=>{l.push({key:d.id,data:d.data()})}),l.reduce((d,g)=>(o[g.key]=g.data,b({},d)),{})}),o},n=o=>{const r=ba(),l=M(r,"candidate/"+o.name+".png");ka(l,o.photo,"data_url",{contentType:"image/png"}).then(d=>{(async()=>await ya(M(r,"candidate/"+o.name+".png")))().then(B=>{o.photo=B,_.addCandidate(o).then(()=>{alert(o.name+" berhasil ditambahkan"),location.reload()}).catch(rt=>{alert(o.name+" gagal ditambahkan")})})})},a=(o,r)=>{_.deleteCandidate(o).then(()=>{alert("Candidate : "+r+" berhasil dihapus"),location.reload()})},c=async()=>{const o=await z(_.candidatePosition).then(d=>d),r=[];return o.forEach(d=>{r.push({key:d.id,data:d.data()})}),r.reduce((d,g)=>T(b({},d),{[g.key]:g.data}),{})},e=async()=>{const o=await z(_.Delegation).then(d=>d),r=[];return o.forEach(d=>{r.push({key:d.id,data:d.data()})}),r.reduce((d,g)=>T(b({},d),{[g.key]:g.data}),{})},i=o=>{_.addDelegation(o).then(()=>{alert("Delegation : "+o.delegation+" berhasil ditambahkan")}).catch(r=>{alert("Delegation : "+o.delegation+" gagal ditambahkan")})};let s=k({});const A=()=>{L(_.calonKetuaUmum,o=>{const r=[];o.forEach(l=>{r.push({key:l.id,data:l.data()})}),r.reduce((l,d)=>(s[d.key]=d.data,b({},l)),{})})};let y=k({});const ta=()=>{L(_.calonFormatur,o=>{const r=[];o.forEach(l=>{r.push({key:l.id,data:l.data()})}),r.reduce((l,d)=>(s[d.key]=d.data,b({},l)),{})})};let D=k({data:{}});const ea=()=>{L(_.komisariat,o=>{const r=[];o.forEach(l=>{r.push(l)}),D.data=r})};let na=k({data:{}});return{list_caketum:s,updateCaketumList:A,list_formatur:y,updateFormaturList:ta,list_komisariat:D,updateKomisariatList:ea,list_token:na,updateTokenList:()=>{L(_.komisariat,o=>{const r=[];o.forEach(l=>{r.push(l)}),D.data=r})},listCandidate:t,addCandidate:n,deleteCandidate:a,listCandidatePosition:c,listDelegation:e,addDelegation:i}});const ot={class:"container-fluid body p-0 mt-5"},it=X({setup(t){La(()=>{S().updateCaketumList(),S().updateFormaturList(),S().updateKomisariatList()});const n=w().admin;return f.beforeResolve((a,c,e)=>{a.matched.some(i=>{i.meta.protected})&&n.isAdmin&&f.push({name:"login"}),e()}),Ca(I,a=>{G(I),a!=null&&w().tryToLogin(!0,a),f.afterEach((c,e,i)=>{c.matched.some(s=>{s.meta.auth})&&n.isAdmin&&f.push({name:"admin"})}),f.beforeEach((c,e,i)=>{c.matched.some(s=>s.meta.protected)&&(n.isAdmin||f.push({name:"login"})),i()})}),(a,c)=>{const e=nt,i=Y("router-view"),s=Sa;return P(),E("div",null,[C(e),u("div",ot,[C(i)]),C(s,{class:Pa([Z(n).isAdmin?"d-none":"d-block"])},null,8,["class"])])}}}),aa=Ea(it);aa.use(f);f.isReady().then(()=>aa.mount("body"));export{$ as _,w as a,_ as d,S as g};
