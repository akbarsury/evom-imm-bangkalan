var ua=Object.defineProperty,pa=Object.defineProperties;var ha=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ga=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable;var M=(t,o,e)=>o in t?ua(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))ga.call(o,e)&&M(t,e,o[e]);if(V)for(var e of V(o))_a.call(o,e)&&M(t,e,o[e]);return t},j=(t,o)=>pa(t,ha(o));import{o as S,c as x,a as fa,i as va,g as ba,L as Aa,b as Z,u as $,r as k,s as ka,d as ya,e as Pa,f as q,h as J,j as g,k as R,w as La,l as z,m as W,n as Ea,p as Ca,q as Ia,t as wa,M as A,v as h,x as I,y as w,z as T,A as C,I as P,B as K,C as D,D as Q,E as F,F as Ta,G,H as Da,J as Ra,K as Sa,N as xa}from"./vendor.57aa19e6.js";const Oa=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))d(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}};Oa();var Ba="/evom-imm-bangkalan/file/footer-brand.8968f0c2.png";var aa=(t,o)=>{const e=t.__vccOpts||t;for(const[d,i]of o)e[d]=i;return e};const Ha={},Na={class:""},ja=fa('<div class="navigation p-5 container" data-v-3f57abca><div class="row" data-v-3f57abca><div class="col-12 col-md-4 mb-5" data-v-3f57abca><img class="img-fluid pe-5" src="'+Ba+'" alt="" data-v-3f57abca></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Hubungi kami</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="javascript:void()" data-v-3f57abca>Telang Indah VI, Kamal, Bangkalan - 69162</a></li><li data-v-3f57abca><a href="mailto:pcimmbangkalan@gmail.com" data-v-3f57abca> pcimmbangkalan@gmail.com </a></li><li data-v-3f57abca><a href="http://pcimmbangkalan.blogspot.com" data-v-3f57abca> pcimmbangkalan.blogspot.com </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194 </a></li></ul></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Service</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="#" data-v-3f57abca> Voting </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Hasil Pemilihan </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Admin </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194</a></li></ul></div></div></div><div class="copyright container-fluid text-center" data-v-3f57abca> Designed by <a href="http://instagram.com/akbarr.sury" target="_blank" data-v-3f57abca>Akbar</a> | Managed by Bidang Medkom PC IMM Bangkalan </div>',2),Fa=[ja];function Ua(t,o){return S(),x("footer",Na,Fa)}var Va=aa(Ha,[["render",Ua],["__scopeId","data-v-3f57abca"]]);const Ma={apiKey:"AIzaSyBnQdw_6piF6b5F2s1ORYUjcmhXIuO3fzI",authDomain:"imm-bangkalan-101112.firebaseapp.com",projectId:"imm-bangkalan-101112",storageBucket:"imm-bangkalan-101112.appspot.com",messagingSenderId:"764517615389",appId:"1:764517615389:web:e479539763ed2f02d303f4"},ta=va(Ma),O=ba(ta),m=Aa(ta),B=Z(()=>{const{isAuthenticated:t,user:o}=$(O);let e=k({data:{secretKey:String},isAdmin:!1});return{admin:e,getAdminData:()=>e,tryToLogin:(c,b)=>{let L={secretKey:b.accessToken,providerData:b.providerData[0]};c?(e.data=L,e.isAdmin=c):(e.data=null,e.isAdmin=!1)},tryToLogout:()=>{ka(O).then(()=>{e.isAdmin=null,e.data=o,alert("Berhasil logout user")}).catch(()=>{alert("Gagal logout user")})}}}),za="modulepreload",X={},Ka="/evom-imm-bangkalan/",_=function(o,e){return!e||e.length===0?o():Promise.all(e.map(d=>{if(d=`${Ka}${d}`,d in X)return;X[d]=!0;const i=d.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${r}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":za,i||(c.as="script",c.crossOrigin=""),c.href=d,document.head.appendChild(c),i)return new Promise((b,L)=>{c.addEventListener("load",b),c.addEventListener("error",L)})})).then(()=>o())},Y=()=>_(()=>import("./Landing.af5e854f.js"),["file/Landing.af5e854f.js","file/Landing.0db8fc47.css","file/vendor.57aa19e6.js"]),Qa=()=>_(()=>import("./Login.e044b908.js"),["file/Login.e044b908.js","file/vendor.57aa19e6.js"]),Ga=()=>_(()=>import("./Admin.2bae28de.js"),["file/Admin.2bae28de.js","file/Admin.bb1c70cf.css","file/vendor.57aa19e6.js"]),Xa=()=>_(()=>import("./InputDataCandidate.0aa60e93.js"),["file/InputDataCandidate.0aa60e93.js","file/InputDataCandidate.1e1cf0ce.css","file/ModalInputDelegation.d7f81be1.js","file/vendor.57aa19e6.js"]),Ya=()=>_(()=>import("./Candidate.7acd5aa7.js"),["file/Candidate.7acd5aa7.js","file/vendor.57aa19e6.js"]),Za=()=>_(()=>import("./Delegation.2618e96a.js"),["file/Delegation.2618e96a.js","file/ModalInputDelegation.d7f81be1.js","file/vendor.57aa19e6.js"]),$a=()=>_(()=>import("./InputDataParticipant.56ed030c.js"),["file/InputDataParticipant.56ed030c.js","file/InputDataParticipant.8f609921.css","file/ModalInputDelegation.d7f81be1.js","file/vendor.57aa19e6.js"]),qa=()=>_(()=>import("./Participant.6f74646e.js"),["file/Participant.6f74646e.js","file/vendor.57aa19e6.js"]),Ja=()=>_(()=>import("./ElectionToken.2a1fdbc3.js"),["file/ElectionToken.2a1fdbc3.js","file/vendor.57aa19e6.js"]),Wa=()=>_(()=>import("./LiveCount.3aa2394e.js"),["file/LiveCount.3aa2394e.js","file/LiveCount.54a7f165.css","file/vendor.57aa19e6.js"]),at=()=>_(()=>import("./AccountSetting.8bed51bb.js"),["file/AccountSetting.8bed51bb.js","file/vendor.57aa19e6.js"]),tt=()=>_(()=>import("./ApplicationSetting.9bf56a5b.js"),["file/ApplicationSetting.9bf56a5b.js","file/vendor.57aa19e6.js"]),et=[{name:"landing",path:"/",component:Y},{name:"vote",path:"/vote",component:Y},{name:"login",path:"/login",meta:{auth:!0},component:Qa},{name:"admin",path:"/admin",redirect:{name:"adminCandidate"},meta:{protected:!0},component:Ga,children:[{name:"adminInputCandidateData",path:"input-candidate-data",component:Xa},{name:"adminCandidate",path:"candidate",component:Ya},{name:"adminDelegation",path:"delegation",component:Za},{name:"adminInputParticipantData",path:"input-participant-data",component:$a},{name:"adminParticipant",path:"participant",component:qa},{name:"adminElectionToken",path:"election-token",component:Ja},{name:"adminLiveCount",path:"live-count",component:Wa},{name:"adminAccountSetting",path:"account-setting",component:at},{name:"adminApplicationSetting",path:"application-setting",component:tt}]}],v=ya({history:Pa("/evom-imm-bangkalan/"),routes:et});var nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAYAAACG9x+sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgBvVfLcdwwDH35FODccjM7iFKB5QridKBUkC1hU4GdCjYdxK7Acge7FYSuwPItt4QYE7NPEPTZXSZvBkOQegQBAqSkN/j3OEvyPklI8jtLUdRJ/kzIeZIn02es6dkN+o5fm7kimxwMIxjOE3z8NLzmNZYhkv4Rw8U9nji/wksgjCY7MgWZUzvjlR2wAWyTfDHynOTBGGecm/nIizdZj0k+J7nEPsCKno+hcvrBI9bYp+QePlbwy0Twi55pcBsaWxG3ofFbGg8Ylu79hA8Hl1BrFoPTl93vHM52RP8AHzG3NgMXjg0ccwa4ZHiRR9IDfHQLOFqu9hyo3jJ5aQCycHQWZn2LMogYZkFaLU/eqMUBCNRBMaRZCM7zUyG2NQu1aSP6WRwEIJFuSPjG2ZH+LreBxiLKQTfjwrQ7S3xr+uJwQ/019hHzDle5rwexQ7kMCFryRzISaLx3jdsArCPPpPN4oAXssxLQG03sy/tDz0Kb5IqJ3ovskoTrLVJfz4AaHqT2BATyRaDl42b5kEMsiLmt0L9CI8rjLre6426WDw1AdzqgX4ulS4ht6joPHunQANho7YyXhLXZeqRjAxB8orHO8Lh/NqLPBS022jn+KQHoGXh0eJzuMKIvydqOuJ1HsNdowPAz95Ym6ydFmHFE5nzNurRtnntNnDvM4ybbj1OkGtN/ZLXh27+iqxG7PyZsbgw3YP6TXrHGEZ/TDFsycYTXJPmOfupF/4aXH6UieIX/g5DbDiO1fCz+AjCKvHg3KuGwAAAAAElFTkSuQmCC";const ea=t=>(Ca("data-v-545daf01"),t=t(),Ia(),t),ot={class:"shadow-sm"},it={class:"container"},st={class:"row"},rt=ea(()=>g("div",{class:"col-auto brand"},[g("img",{class:"no-select",src:nt,alt:"electronic voting musycab"})],-1)),ct={class:"col navigation"},dt=ea(()=>g("span",{class:"btn-link navigation-toggle"},[g("i",{class:"fa-solid fa-bars"})],-1)),lt=wa("voting"),mt=q({setup(t){const o=B().getAdminData(),e=()=>{B().tryToLogout(),v.push({name:"login"})},d=()=>{v.push({name:"admin"})};return(i,r)=>{const c=J("router-link");return S(),x("header",ot,[g("div",it,[g("div",st,[rt,g("div",ct,[dt,g("ul",null,[g("li",null,[R(c,{class:"btn-link",to:{name:"landing"}},{default:La(()=>[lt]),_:1})]),g("li",null,[g("button",{class:"btne btn-danger btn-main btn-sm me-2",onClick:r[0]||(r[0]=z(b=>d(),["prevent"]))}," admin "),W(o).isAdmin?(S(),x("button",{key:0,onClick:r[1]||(r[1]=z(b=>e(),["prevent"])),class:"btnve btn-danger btn-sm"}," Logout ")):Ea("",!0)])])])])])])}}});var ut=aa(mt,[["__scopeId","data-v-545daf01"]]);const u={evom:A(h(m,"evom")),komisariat:A(h(m,"komisariat")),calonKetuaUmum:A(h(m,"calon ketua umum")),calonFormatur:A(h(m,"calon formatur")),candidate:A(h(m,"candidate"),I("number","asc")),addCandidate:t=>w(h(m,"candidate"),t),deleteCandidate:t=>T(C(m,"candidate",t)),participant:A(h(m,"participant"),I("delegation","asc")),addParticipant:t=>w(h(m,"participant"),t),deleteParticipant:t=>T(C(m,"participant",t)),candidatePosition:A(h(m,"candidate-position"),I("order","asc")),addCandidatePosition:t=>w(h(m,"candidate-position"),t),deleteCandidatePosition:t=>T(C(m,"candidate-position",t)),Delegation:A(h(m,"delegation"),I("delegation","asc")),addDelegation:t=>w(h(m,"delegation"),t),deleteDelegation:t=>T(C(m,"delegation",t)),applicationSetting:C(m,"evom","setting")},U=Z(()=>{const t=()=>{const a=k({});return P(u.candidate,n=>{const l=[];n.forEach(s=>{l.push({key:s.id,data:s.data()})}),l.reduce((s,p)=>(a[p.key]=p.data,y({},s)),{})}),a},o=a=>{const n=K(),l=D(n,"candidate/"+a.name+".png");Q(l,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await G(D(n,"candidate/"+a.name+".png")))().then(f=>{a.photo=f,u.addCandidate(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(E=>{alert(a.name+" gagal ditambahkan")})})})},e=(a,n)=>{u.deleteCandidate(a).then(()=>{alert("Candidate : "+n+" berhasil dihapus"),location.reload()})},d=()=>{let a=k({result:{}}),n=k({result:{}});return(async()=>await F(u.Delegation).then(s=>s))().then(s=>{s.forEach(p=>{let f=p.data();n.result[f.code]=f.delegation})}),P(u.participant,s=>{const p={};s.forEach(f=>{let E=f.data();E.delegation=n.result[E.delegation],p[f.id]=E}),a.result=p}),a},i=a=>{const n=K(),l=D(n,"participant/"+a.name+".png");Q(l,a.photo,"data_url",{contentType:"image/png"}).then(s=>{(async()=>await G(D(n,"participant/"+a.name+".png")))().then(f=>{a.photo=f,u.addParticipant(a).then(()=>{alert(a.name+" berhasil ditambahkan"),location.reload()}).catch(E=>{alert(a.name+" gagal ditambahkan")})})})},r=(a,n)=>{u.deleteParticipant(a).then(()=>{alert("Participant : "+n+" berhasil dihapus"),location.reload()})},c=async()=>{const a=await F(u.candidatePosition).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>j(y({},s),{[p.key]:p.data}),{})},b=a=>{u.addCandidatePosition(a).then(()=>{alert("Candidate Position : "+a.position+" berhasil ditambahkan"),location.reload()}).catch(n=>{alert("Candidate Position : "+a.position+" gagal ditambahkan")})},L=async()=>{const a=await F(u.Delegation).then(s=>s),n=[];return a.forEach(s=>{n.push({key:s.id,data:s.data()})}),n.reduce((s,p)=>j(y({},s),{[p.key]:p.data}),{})},oa=a=>{u.addDelegation(a).then(()=>{alert("Delegation : "+a.delegation+" berhasil ditambahkan"),location.reload()}).catch(n=>{alert("Delegation : "+a.delegation+" gagal ditambahkan")})},ia=(a,n)=>{u.deleteDelegation(a).then(()=>{alert(`Delegation : ${n} berhasil dihapus`),location.reload()})},sa=async()=>{let a=await Ta(u.applicationSetting).then(n=>n);if(a.exists())return a.data()};let H=k({});const ra=()=>{P(u.calonKetuaUmum,a=>{const n=[];a.forEach(l=>{n.push({key:l.id,data:l.data()})}),n.reduce((l,s)=>(H[s.key]=s.data,y({},l)),{})})};let ca=k({});const da=()=>{P(u.calonFormatur,a=>{const n=[];a.forEach(l=>{n.push({key:l.id,data:l.data()})}),n.reduce((l,s)=>(H[s.key]=s.data,y({},l)),{})})};let N=k({data:{}});const la=()=>{P(u.komisariat,a=>{const n=[];a.forEach(l=>{n.push(l)}),N.data=n})};let ma=k({data:{}});return{list_caketum:H,updateCaketumList:ra,list_formatur:ca,updateFormaturList:da,list_komisariat:N,updateKomisariatList:la,list_token:ma,updateTokenList:()=>{P(u.komisariat,a=>{const n=[];a.forEach(l=>{n.push(l)}),N.data=n})},listCandidate:t,addCandidate:o,deleteCandidate:e,listParticipant:d,addParticipant:i,deleteParticipant:r,listCandidatePosition:c,addCandidatePosition:b,listDelegation:L,addDelegation:oa,deleteDelegation:ia,applicationSetting:sa}});const pt={class:"container-fluid body p-0 mt-5"},ht=q({setup(t){Da(()=>{U().updateCaketumList(),U().updateFormaturList(),U().updateKomisariatList()});const o=B().admin;return v.beforeResolve((e,d,i)=>{e.matched.some(r=>{r.meta.protected})&&o.isAdmin&&v.push({name:"login"}),i()}),Ra(O,e=>{$(O),e!=null&&B().tryToLogin(!0,e),v.afterEach((d,i,r)=>{d.matched.some(c=>{c.meta.auth})&&o.isAdmin&&v.push({name:"admin"})}),v.beforeEach((d,i,r)=>{d.matched.some(c=>c.meta.protected)&&(o.isAdmin||v.push({name:"login"})),r()})}),(e,d)=>{const i=ut,r=J("router-view"),c=Va;return S(),x("div",null,[R(i),g("div",pt,[R(r)]),R(c,{class:Sa([W(o).isAdmin?"d-none":"d-block"])},null,8,["class"])])}}}),na=xa(ht);na.use(v);v.isReady().then(()=>na.mount("body"));export{aa as _,B as a,O as f,U as g};
