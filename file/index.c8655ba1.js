import{u as C,a as O,r as S,b as D,o as f,c as _,d as c,e as p,w as L,f as x,g as N,h as H,p as F,i as M,j as R,k as U,l as z,m as K,n as Q,q as V,s as G,t as X,U as Y,v as $,A as h,K as v,D as b,x as y,y as P,z as T,E as w,N as l,T as m,B as k,C as A,F as Z,G as q,H as J}from"./vendor.5bcef8ec.js";const W=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};W();var aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAYAAACG9x+sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI+SURBVHgBvVfLcdwwDH35FODccjM7iFKB5QridKBUkC1hU4GdCjYdxK7Acge7FYSuwPItt4QYE7NPEPTZXSZvBkOQegQBAqSkN/j3OEvyPklI8jtLUdRJ/kzIeZIn02es6dkN+o5fm7kimxwMIxjOE3z8NLzmNZYhkv4Rw8U9nji/wksgjCY7MgWZUzvjlR2wAWyTfDHynOTBGGecm/nIizdZj0k+J7nEPsCKno+hcvrBI9bYp+QePlbwy0Twi55pcBsaWxG3ofFbGg8Ylu79hA8Hl1BrFoPTl93vHM52RP8AHzG3NgMXjg0ccwa4ZHiRR9IDfHQLOFqu9hyo3jJ5aQCycHQWZn2LMogYZkFaLU/eqMUBCNRBMaRZCM7zUyG2NQu1aSP6WRwEIJFuSPjG2ZH+LreBxiLKQTfjwrQ7S3xr+uJwQ/019hHzDle5rwexQ7kMCFryRzISaLx3jdsArCPPpPN4oAXssxLQG03sy/tDz0Kb5IqJ3ovskoTrLVJfz4AaHqT2BATyRaDl42b5kEMsiLmt0L9CI8rjLre6426WDw1AdzqgX4ulS4ht6joPHunQANho7YyXhLXZeqRjAxB8orHO8Lh/NqLPBS022jn+KQHoGXh0eJzuMKIvydqOuJ1HsNdowPAz95Ym6ydFmHFE5nzNurRtnntNnDvM4ybbj1OkGtN/ZLXh27+iqxG7PyZsbgw3YP6TXrHGEZ/TDFsycYTXJPmOfupF/4aXH6UieIX/g5DbDiO1fCz+AjCKvHg3KuGwAAAAAElFTkSuQmCC";var j=(e,a)=>{const t=e.__vccOpts||e;for(const[n,o]of a)t[n]=o;return t};const B=e=>(F("data-v-084e5663"),e=e(),M(),e),ta={class:"shadow-sm"},ea={class:"container"},oa={class:"row"},na=B(()=>c("div",{class:"col-auto brand"},[c("img",{src:aa,alt:""})],-1)),ia={class:"col navigation"},sa=B(()=>c("button",{class:"btn navigation-toggle"},[c("i",{class:"fa-solid fa-bars"})],-1)),ra=R("voting"),ca=R("admin"),la={setup(e){const a=C(),t=O(),n=S(a.state.admin),o=()=>{a.commit("tryToLogout"),t.push({name:"admin"})};return(i,s)=>{const u=D("router-link");return f(),_("header",ta,[c("div",ea,[c("div",oa,[na,c("div",ia,[sa,c("ul",null,[c("li",null,[p(u,{to:{name:"landing"}},{default:L(()=>[ra]),_:1})]),c("li",null,[p(u,{class:"btn btn-main btn-sm me-2",to:{name:"admin"}},{default:L(()=>[ca]),_:1}),x(n).isAdmin?(f(),_("button",{key:0,onClick:s[0]||(s[0]=N(g=>o(),["prevent"])),class:"btn btn-danger btn-sm"}," Logout ")):H("",!0)])])])])])])}}};var da=j(la,[["__scopeId","data-v-084e5663"]]),ua="/file/footer-brand.8968f0c2.png";const ma={},pa={class:""},ha=U('<div class="navigation p-5 container" data-v-3f57abca><div class="row" data-v-3f57abca><div class="col-12 col-md-4 mb-5" data-v-3f57abca><img class="img-fluid pe-5" src="'+ua+'" alt="" data-v-3f57abca></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Hubungi kami</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="javascript:void()" data-v-3f57abca>Telang Indah VI, Kamal, Bangkalan - 69162</a></li><li data-v-3f57abca><a href="mailto:pcimmbangkalan@gmail.com" data-v-3f57abca> pcimmbangkalan@gmail.com </a></li><li data-v-3f57abca><a href="http://pcimmbangkalan.blogspot.com" data-v-3f57abca> pcimmbangkalan.blogspot.com </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194 </a></li></ul></div><div class="col-12 col-md-4 mb-5" data-v-3f57abca><h3 data-v-3f57abca>Service</h3><ul data-v-3f57abca><li data-v-3f57abca><a href="#" data-v-3f57abca> Voting </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Hasil Pemilihan </a></li><li data-v-3f57abca><a href="#" data-v-3f57abca> Admin </a></li><li data-v-3f57abca><a href="http://wa.me/6285608481194" data-v-3f57abca>0856-0848-1194</a></li></ul></div></div></div><div class="copyright container-fluid text-center" data-v-3f57abca> Designed by <a href="http://instagram.com/akbarr.sury" target="_blank" data-v-3f57abca>Akbar</a> | Managed by Bidang Medkom PC IMM Bangkalan </div>',2),fa=[ha];function _a(e,a){return f(),_("footer",pa,fa)}var ga=j(ma,[["render",_a],["__scopeId","data-v-3f57abca"]]);const va={class:"container-fluid body p-0 mt-5"},ba={setup(e){const a=O();z();const t=C(),n=S({nilai:!0});return K(()=>{t.commit("updateCaketumList"),t.commit("updateFormaturList"),t.commit("updateKomisariatList"),t.commit("updateTokenList")}),a.beforeEach((o,i,s)=>{o.fullPath.includes("admin")?n.nilai=!0:n.nilai=!1,s()}),(o,i)=>{const s=D("router-view");return f(),_("div",null,[p(da),c("div",va,[p(s)]),p(ga,{class:Q([x(n).nilai?"d-none":"d-block"])},null,8,["class"])])}}},ka="modulepreload",E={},Aa="/",d=function(a,t){return!t||t.length===0?a():Promise.all(t.map(n=>{if(n=`${Aa}${n}`,n in E)return;E[n]=!0;const o=n.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":ka,o||(s.as="script",s.crossOrigin=""),s.href=n,document.head.appendChild(s),o)return new Promise((u,g)=>{s.addEventListener("load",u),s.addEventListener("error",g)})})).then(()=>a())},La=()=>d(()=>import("./Landing.87c07618.js"),["file/Landing.87c07618.js","file/Landing.a4731024.css","file/vendor.5bcef8ec.js","file/kandidat-layout.2b79f2d0.js"]),ya=()=>d(()=>import("./Vote.075ce4a9.js"),["file/Vote.075ce4a9.js","file/Vote.91e0ca19.css","file/vendor.5bcef8ec.js","file/kandidat-layout.2b79f2d0.js"]),Pa=()=>d(()=>import("./Admin.dc37ee97.js"),["file/Admin.dc37ee97.js","file/Admin.dc8d32f2.css","file/vendor.5bcef8ec.js"]),Ta=()=>d(()=>import("./CalonKetuaUmum.293d981c.js"),["file/CalonKetuaUmum.293d981c.js","file/CalonKetuaUmum.a05e92cf.css","file/vendor.5bcef8ec.js"]),wa=()=>d(()=>import("./CalonFormatur.389dc053.js"),["file/CalonFormatur.389dc053.js","file/CalonFormatur.5d9738f9.css","file/vendor.5bcef8ec.js"]),Ea=()=>d(()=>import("./TokenPemilihan.374922a4.js"),["file/TokenPemilihan.374922a4.js","file/vendor.5bcef8ec.js"]),Ia=()=>d(()=>import("./PerhitunganLangsung.531685db.js"),["file/PerhitunganLangsung.531685db.js","file/PerhitunganLangsung.608c784e.css","file/vendor.5bcef8ec.js"]),Ca=()=>d(()=>import("./PengaturanAkun.b64863d1.js"),["file/PengaturanAkun.b64863d1.js","file/vendor.5bcef8ec.js"]),Oa=[{name:"landing",path:"/",component:La},{name:"vote",path:"/vote",component:ya},{name:"admin",path:"/admin",component:Pa,children:[{name:"adminDataCalonKetuaUmum",path:"calon-ketua-umum",component:Ta},{name:"adminDataCalonFormatur",path:"calon-formatur",component:wa},{name:"adminTokenPemilihan",path:"token-pemilihan",component:Ea},{name:"adminPerhitunganLangsung",path:"perhitungan-langsung",component:Ia},{name:"adminPengaturanAkun",path:"pengaturan-akun",component:Ca}]}],Sa=V({history:G(),routes:Oa}),Da={apiKey:"AIzaSyBnQdw_6piF6b5F2s1ORYUjcmhXIuO3fzI",authDomain:"imm-bangkalan-101112.firebaseapp.com",projectId:"imm-bangkalan-101112",storageBucket:"imm-bangkalan-101112.appspot.com",messagingSenderId:"764517615389",appId:"1:764517615389:web:e479539763ed2f02d303f4"},xa=X(Da),r=Y(xa);var Ra=$({state(){return{caketumList:{},formaturList:{},tokenList:{},komisariatList:{},admin:{}}},mutations:{updateState:(e,a)=>{e[a.target]!==void 0&&(e[a.target]=a.data)},updateCaketumList(e){h(v(b(r,"calon ketua umum")),a=>{const t=[];a.forEach(n=>{t.push({key:n.id,data:n.data()})}),e.caketumList[0]=t})},hapusCaketum(e,[a,t]){const n=y(),o=P(n,"calon ketua umum/"+t+".png");T(o).then(()=>{w(l(r,"calon ketua umum",a)),alert(`Data ${t} berhasil dihapus`)}).catch(()=>{alert(`Data ${t} gagal dihapus`)})},updateFormaturList(e){h(v(b(r,"calon formatur")),a=>{const t=[];a.forEach(n=>{t.push({key:n.id,data:n.data()})}),e.formaturList[0]=t})},hapusFormatur(e,[a,t]){const n=y(),o=P(n,"calon formatur/"+t+".png");T(o).then(()=>{w(l(r,"calon formatur",a)),alert(`Data ${t} berhasil dihapus`)}).catch(()=>{alert(`Data ${t} gagal dihapus`)})},updateTokenList:e=>{h(l(r,"evom","token"),a=>{e.tokenList=a.data()})},createToken(e,[a,t]){if(e.tokenList.availableToken.length<=0){let n=[],o=Object.getOwnPropertyNames(e.komisariatList);for(let i=0;i<a;i++)n.push("19"+(11+i)+"pc"+I());for(let i=0;i<o.length;i++)for(let s=0;s<t;s++)n.push("19"+(11+s)+o[i]+I());m(l(r,"evom","token"),{availableToken:n}).then(()=>{alert("Token berhasil dibuat")}).catch(i=>{alert("Token gagal dibuat")})}else alert("token sudah dibuat sebelumnya")},resetToken:e=>{m(l(r,"evom","token"),{availableToken:[],usedToken:[]}).then(()=>{alert("Token berhasil dihapus")}).catch(a=>{alert("Token gagal dihapus")})},updateKomisariatList:e=>{h(v(b(r,"komisariat")),a=>{a.forEach(t=>{e.komisariatList[t.data().kode]=t.data().nama})})},kirimPilihan:async(e,a)=>{a.formatur.forEach(async s=>{const u=l(r,"calon formatur",s);(await k(u)).exists()&&await m(u,{suara:A(a.pemilih)}).then(()=>{})});const t=l(r,"calon ketua umum",a.ketum[0]);(await k(t)).exists()&&await m(t,{suara:A(a.pemilih)}).then(()=>{});const o=l(r,"evom","token");(await k(o)).exists()&&await m(o,{usedToken:A(a.pemilih)}).then(()=>{alert("Terimakasih telah berpartisipasi dalam pemilihan.(Panitia Pemilihan)"),window.location.reload()})},tryToLogin(e,[a,t]){e.admin.data=t,e.admin.isAdmin=a},tryToLogout(e){const a=Z();q(a).then(()=>{e.admin.isAdmin=null,e.admin.data=a.currentUser,alert("Berhasil logout user")}).catch(()=>{alert("Gagal logout user")})}}});function I(e=4){let a="abcdefghijklmnopqrstuvw0123456789",t="";for(let n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}J(ba).use(Sa).use(Ra).mount("body");export{j as _,r as d,Sa as r};
